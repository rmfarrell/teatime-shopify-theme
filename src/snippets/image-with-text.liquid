{%- comment -%}
  This is a required section for the Shopify Theme Store.
  It is available when you add the "Image with text" section in the theme editor.

  Settings
  - image
  - heading: title of the block
  - text: description of the block
  - button label: label associated with the button
  - button link: link of the button
  - layout
  - animate_in
{%- endcomment -%}
{% if animate_in == true %}
{%- assign animate_in_data = 'data-observe-intersection' -%}
{% else %}
{%- assign animate_in_data = '' -%}
{% endif %}
<section class="image-with-text dir-{{layout}} flex-columns wrapper">
  <div class="img-container column" {{animate_in_data}}>
    {% if image != blank %}
      {% include 'responsive-image' with
        image: image,
        max_width: 545,
        max_height: 545
      %}
    {% else %}
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
    {% endif %}
  </div>

  <div class="text-container column" {{animate_in_data}}>
    {% if title != blank %}
      <h2>{{ title | escape }}</h2>
    {% endif %}
    {% if text != blank %}
      <div class="rte">{{ text }}</div>
    {% endif %}
    {% if button_label != blank and button_link != blank %}
      <p class="cta-container">
        <a href="{{ button_link }}" class="text-cta">
          {{ button_label | escape }}
        </a>
      </p>
    {% endif %}
  </div>
</section>